ðŸ§± Plan: Token Cleanup and Canonical Structuring

Objective:
Normalize a hybrid MUI-style JSON token set into a W3C-compliant, T-D-W-P-aligned, and Style Dictionary-ready formatâ€”fully consumable across Token Studio, GitHub, and downstream libraries.

â¸»

ðŸ”¨ Tasks
	1.	Parse & Normalize
	â€¢	Recursively flatten all token paths.
	â€¢	Normalize key names to dot notation (e.g., blue.700, button.primary.hover).
	â€¢	Detect and preserve references (e.g., {blue.700}).
	2.	Validate
	â€¢	Validate $value:
	â€¢	Must be a valid hex (6 or 8 digits) or valid {reference}.
	â€¢	If hex includes opacity suffixes (e.g. #00000014), convert to rgba() or flag.
	â€¢	Validate $type:
	â€¢	Must be in known W3C types: color, dimension, font, text, number.
	â€¢	Validate references:
	â€¢	Ensure all {foo.bar} references resolve to an existing key in the tree.
	3.	Categorize
	â€¢	âœ… Primitives â†’ Flattened tokens with static values (e.g., blue.900: "#0D47A1").
	â€¢	âœ… Semantics â†’ Tokens that $value a reference to a primitive and conform to T-D-W-P.
	â€¢	ðŸ›‘ Trash â†’ Tokens with:
	â€¢	Broken or dangling references
	â€¢	Malformed $value (e.g. #000000de)
	â€¢	Naming violations (_states, white_states, etc.)
	â€¢	Unsupported or ambiguous structure
	4.	Export
	â€¢	Output the following files:
	â€¢	core.json â†’ Fully valid primitives
	â€¢	theme.json â†’ Fully valid semantics
	â€¢	trash.json â†’ Quarantined tokens with notes
	â€¢	warnings.md â†’ Human-readable issues list (dead refs, format issues, ambiguous structures)

â¸»

âœ… Acceptance Criteria
ID

Requirement
AC1
All tokens in core.json must have: a valid $value (hex or static), and $type
AC2
All tokens in theme.json must $value a reference that resolves to a token in core.json
AC3
trash.json must contain: all tokens with invalid hex, unresolvable references, or malformed structure
AC4
Output files must validate in Token Studio and Style Dictionary
AC5
Naming in all valid tokens must conform to T-D-W-P system as described in Design Token Canon
AC6
warnings.md must list: every dead reference, invalid hex, and naming violation with path and reason
AC7
No output token should contain _states, _components, or _native unless remapped under valid token.$themes or token.components wrapper in semantic space
