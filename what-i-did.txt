Monday May 5, 2025

I needed to get the actual color tokens from the MUI package—not from documentation, not from a theme snapshot, but from the real source of truth in our installed package.

What I discovered:
MUI’s foundational color palettes (like blue, red, green, etc.) are defined as JavaScript objects in the @mui/material/colors directory inside node_modules.
Each color (e.g., blue) is an object with all its shades (50, 100, ..., 900, A100, etc.).

What I did:
We wrote a Node.js script (mui-token-map.js) that imports the color palettes directly from the MUI package using require('@mui/material/colors').
The script collects all the color objects and writes them into a single flat JSON file called mui-token-map.json.
This gives us a machine-readable, up-to-date list of all MUI color tokens and their values, straight from the package.

Result:
We now have a JSON file with all the MUI color tokens, ready for further processing or mapping to other systems.

---

Then, I modularized the process of extracting MUI design tokens by writing a dedicated script for each token category (colors, spacing, font sizes, etc.) and organizing them in a scripts folder. Each script outputs a JSON file with the exact MUI naming and values.
After that, I created a script that reads all these modular JSON files and merges them into a single W3C DTCG-compliant JSON file (w3c-tokens.json). This script is fully automatable and can be triggered by a GitHub Action, making it easy to keep our design tokens in sync across engineering and design.
Now, we have a complete, machine-readable map of MUI design tokens, ready for use in Tokens Studio and Figma, and set up for a modern, automated design system workflow.

---

## Summary

- Modularized extraction of MUI design tokens (color, spacing, font, etc.) into individual JSON files.
- Added scripts to `mui-tokens/scripts/` for each token category.
- Implemented `merge-to-w3c.js` to merge all token JSON files into a single W3C DTCG-compliant file (`w3c-tokens.json`).
- Output is ready for use with Tokens Studio, Figma, and CI automation.

## Why

- Enables automated, source-of-truth design token workflow.
- Keeps engineering and design in sync using real MUI values.
- Lays the foundation for future automation and integration.

## How to use

1. Run any grab script in `mui-tokens/scripts/` to update a token set.
2. Run `merge-to-w3c.js` to generate the unified W3C token file.

---

Monday May 6, 2025

## Progress Update

- **Refined MUI token extraction:**  
  Modular scripts now extract each token category (colors, spacing, font sizes, etc.) directly from the MUI package, ensuring all values are up-to-date and source-of-truth.
- **Automated merging:**  
  The `merge-to-w3c.js` script combines all modular token files into a single W3C DTCG-compliant JSON (`mui-set.json`), ready for use in Tokens Studio and Figma.
- **Semantic tokens exploration:**  
  Investigated generating semantic tokens (e.g., `background.primary`, `button.padding`) from raw MUI tokens.  
  Determined that while raw tokens are fully automated, semantic tokens require a mapping layer that is not easily derived programmatically from MUI alone.
- **Script flexibility:**  
  The pipeline can output either a flat set of raw tokens or wrap them in a set (e.g., `"MUI"`), as required by Tokens Studio and your reference standards.

## Outcomes

- **Automated, up-to-date raw token extraction and merging.**
- **W3C-compliant output, ready for design and engineering workflows.**
- **Clear understanding of the gap between raw and semantic tokens.**
- **Scripts and structure are ready for future automation and integration.**

## Current Status / Next Steps

- **Raw tokens:**  
  Fully automated and in sync with MUI.
- **Semantic tokens:**  
  Not yet automated—requires a mapping of semantic names to raw tokens, which is a mix of programmatic rules and human curation.
- **Decision point:**  
  Researching best practices and seeking input on how to efficiently define and maintain semantic tokens at scale.

---

**How to use:**
1. Run any grab script in `mui-tokens/scripts/` to update a token set.
2. Run `merge-to-w3c.js` to generate the unified W3C token file.
3. Use the output in Tokens Studio, Figma, or downstream automation.

---

April 09 2025

Q: How would a developer go about getting json design tokens out of a mutated mui theme object? The question stems from me thinking through, "Ok, our DDS devs are going through our theme obj and reseting most to mui defaults however we need to see the final output rendered in what tokens make it to the client when the app is rendered. I have a basic token extractor PoC setup in my Docker container to pull the tokens out of mui but this question remains for now.


[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]

Monday May 5, 2025

I needed to get the actual color tokens from the MUI package—not from documentation, not from a theme snapshot, but from the real source of truth in our installed package.

What I discovered:
MUI's foundational color palettes (like blue, red, green, etc.) are defined as JavaScript objects in the @mui/material/colors directory inside node_modules.
Each color (e.g., blue) is an object with all its shades (50, 100, ..., 900, A100, etc.).

What I did:
We wrote a Node.js script (mui-token-map.js) that imports the color palettes directly from the MUI package using require('@mui/material/colors').
The script collects all the color objects and writes them into a single flat JSON file called mui-token-map.json.
This gives us a machine-readable, up-to-date list of all MUI color tokens and their values, straight from the package.

Result:
We now have a JSON file with all the MUI color tokens, ready for further processing or mapping to other systems.

---

Tuesday May 6, 2025

I modularized the process of extracting MUI design tokens by writing a dedicated script for each token category (colors, spacing, font sizes, etc.) and organizing them in a scripts folder. Each script outputs a JSON file with the exact MUI naming and values.

After that, I created a script that reads all these modular JSON files and merges them into a single W3C DTCG-compliant JSON file (w3c-tokens.json). This script is fully automatable and can be triggered by a GitHub Action, making it easy to keep our design tokens in sync across engineering and design.

Now, we have a complete, machine-readable map of MUI design tokens, ready for use in Tokens Studio and Figma, and set up for a modern, automated design system workflow.

---

Wednesday May 7, 2025

Today I focused on implementing the two-way sync between GitHub and Figma using Tokens Studio. Here's what I did:

1. Set up the token-studio-sync-provider with four main token sets:
   - core.json for base tokens
   - dark.json for dark theme tokens
   - light.json for light theme tokens
   - theme.json for theme-specific tokens

2. Created the transform-for-tokens-studio.js script that:
   - Converts our W3C-compliant tokens into Tokens Studio format
   - Maintains the separation between primitive and semantic tokens
   - Ensures all tokens follow the W3C Design Token Community Group standards

3. Implemented the raw-to-primitives.js and raw-to-semantic.js scripts to:
   - Extract raw design values (colors, spacing, typography)
   - Map MUI-specific tokens to their primitive references
   - Generate semantic tokens based on MUI defaults

The result is a working MVP of a two-way sync system where:
- Design tokens are automatically extracted from MUI
- Tokens are transformed into W3C-compliant format
- Changes sync automatically between GitHub and Figma
- Designers can modify tokens in Figma and have changes reflected in code
- Developers can update tokens in code and have changes reflected in Figma

---

Thursday May 8, 2025

Today I focused on refining the token structure and ensuring everything works smoothly in production. I:

1. Validated the token structure against W3C standards
2. Tested the two-way sync in various scenarios
3. Documented the token extraction and transformation process
4. Set up monitoring for the sync process

The system is now working as intended, with a clear separation between primitive and semantic tokens, and reliable two-way sync between GitHub and Figma.

Current status:
- ✅ Working MVP of two-way sync
- ✅ W3C-compliant token structure
- ✅ Automated token extraction
- ✅ Semantic token mapping
- ✅ Modular, maintainable codebase

The next phase will focus on expanding the token coverage and implementing automated testing.

---

Friday May 9, 2025

Today I created the Design Token Codex, a comprehensive guide for token structure and processing. This document:

1. Defines the T-D-W-P system:
   - T: Type Determination
   - D: Decide Category
   - W: Wrapping Decision
   - P: Path and Property Formatting

2. Establishes clear rules for:
   - Token type determination
   - Category organization
   - Wrapping logic
   - Path formatting
   - Property requirements

3. Provides canonical examples and error cases to ensure consistent implementation

This Codex will serve as the foundation for all future token-related work, ensuring consistency and maintainability across the system.

Next steps:
1. Implement automated testing based on Codex rules
2. Expand token coverage for additional components
3. Set up CI/CD pipeline for token updates
4. Document best practices for token usage